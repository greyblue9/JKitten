<?xml version="1.0" encoding="UTF-8"?>

ASK FAMILIAR CONTACTNAME
<think><set name="topic">ASKING FAMILIAR CONTACTNAME</set></think>
What is your <lowercase><get name="familiarpredicate"/></lowercase>'s name?

<topic name="ASKING FAMILIAR CONTACTNAME">
_WHAT IS YOUR * S NAME
<think>
<set name="topic">unknown</set>
<set name="contactname"><star/></set>
<set name="contactdest"><star/></set>
<set name="isshortanswer"><srai>ISSHORTANSWER <star/></srai></set>
</think>
<condition name="isshortanswer">
<li value="true">
<srai>REMEMBERFAMILIARNAME</srai>
<srai>RESUMEACTION <get name="modecom"/></srai>
</li>
<li><srai>CONTACTFINALIZE</srai> <srai><star/></srai></li>
</condition>


MY <set>familiarname</set> S NAME IS *
<think>
<set name="familiarpredicate"><srai>FAMILIARPREDICATE <star/></srai></set>
<set name="contactname"><star index="2"/></set>
</think>
<srai>REMEMBERFAMILIARNAME</srai>

MY <set>familiarname</set> S NICKNAME IS *
<think>
<set name="familiarpredicate"><srai>FAMILIARPREDICATE <star/></srai></set>
<set name="contactname"><star index="2"/></set>
</think>
<srai>REMEMBERFAMILIARNAME</srai>

I CALL MY <set>familiarname</set> *
<think>
<set name="familiarpredicate"><srai>FAMILIARPREDICATE <star/></srai></set>
<set name="contactname"><star index="2"/></set>
</think>
<srai>REMEMBERFAMILIARNAME</srai>

EVERYONE CALLS MY <set>familiarname</set> *
<think>
<set name="familiarpredicate"><srai>FAMILIARPREDICATE <star/></srai></set>
<set name="contactname"><star index="2"/></set>
</think>
<srai>REMEMBERFAMILIARNAME</srai>

WE CALL MY <set>familiarname</set> *
<think>
<set name="familiarpredicate"><srai>FAMILIARPREDICATE <star/></srai></set>
<set name="contactname"><star index="2"/></set>
</think>
<srai>REMEMBERFAMILIARNAME</srai>

MY <set>familiarname</set> IS NAMED *
<think>
<set name="familiarpredicate"><srai>FAMILIARPREDICATE <star/></srai></set>
<set name="contactname"><star index="2"/></set>
</think>
<srai>REMEMBERFAMILIARNAME</srai>

MY <set>familiarname</set> IS CALLED *
<think>
<set name="familiarpredicate"><srai>FAMILIARPREDICATE <star/></srai></set>
<set name="contactname"><star index="2"/></set>
</think>
<srai>REMEMBERFAMILIARNAME</srai>

MY <set>familiarname</set> IS <set>name</set>
<think>
<set name="familiarpredicate"><srai>FAMILIARPREDICATE <star/></srai></set>
<set name="contactname"><star index="2"/></set>
</think>
<srai>REMEMBERFAMILIARNAME</srai>

MY <set>familiarname</set> IS <set>name</set> *
<think>
<set name="familiarpredicate"><srai>FAMILIARPREDICATE <star/></srai></set>
<set name="contactname"><star index="2"/> <star index="3"/></set>
</think>
<srai>REMEMBERFAMILIARNAME</srai>

* IS MY <set>familiarname</set>
<srai>MY <star index="2"/> IS <star/></srai>

<set>name</set> IS MY <set>familiarname</set> #
<srai>MY <star index="2"/> IS <star/></srai>

FAMILIARPREDICATE <set>familiarname</set>
<map><name>familiarpredicate</name><star/></map>

FAMILIARPREDICATE *
unknown

ISAFAMILIARNAME <set>familiarname</set>
true

ISAFAMILIARNAME *
false

GETFAMILIARNAME
<get><name><lowercase><get name="familiarpredicate"/></lowercase></name></get>

FAMILIARPRONOUN <set>familiarname</set>
<map><name>familiarpronoun</name><star/></map>

FAMILIARPRONOUN *
unknown

REMEMBERFAMILIARNAME
<think>
<set name="familiarpredicate"><lowercase><get name="familiarpredicate"/></lowercase></set>
</think>
<condition name="familiarpredicate">
<li value="unknown"/>
<li>
<condition name="familiarpredicate">
<li value="wife">How long have you and <get name="contactname"/> been married?</li>
<li value="husband">How long have you and <get name="contactname"/> been married?</li>
<li value="dog">Do you have any other pets?</li>
<li value="cat">Do you have any other pets?</li>
<li>I will remember your <get name="familiarpredicate"/>'s name is <get name="contactname"/>.</li>
</condition>
<srai>GENDERCOMMENT</srai>
<think><set><name><get name="familiarpredicate"/></name><get name="contactname"/></set></think>
<learn>
<category><pattern>WHO IS <eval><get name="contactname"/></eval></pattern>
<template><eval><get name="contactname"/></eval> is your <eval><get name="familiarpredicate"/></eval>. </template>
</category>
<category><pattern><eval><get name="contactname"/></eval></pattern>
<template>Your <eval><get name="familiarpredicate"/></eval>.</template>
</category>
</learn></li>
</condition>

GENDERCOMMENT
<think><set var="gendername"><srai>GENDERNAME <get name="contactname"/></srai></set>
<set var="genderpred"><map name="familiargender"><get name="familiarpredicate"/></map></set>
</think>
<condition var="gendername">
<li value="F"><condition value="M" var="genderpred">Isn't <get name="contactname"/> usually a female name?</condition></li>
<li value="M"><condition value="F" var="genderpred">Isn't <get name="contactname"/> usually a male name?</condition></li>
</condition>


